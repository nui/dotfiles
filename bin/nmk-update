#!/bin/sh

nmk_dir=$(CDPATH= cd -- "$(dirname -- "$(dirname -- "$0")")" && pwd)
script=$nmk_dir/bin/nmk-update.py

# support both python and python3
for python in python3 python; do
    # Call binary to determine python existence
    # Check binary existence doesn't work because pyenv provide python shims.
    [ -n "$python" ] && "$python" --version > /dev/null 2>&1 && exec "$python" "$script" "$@"
done
