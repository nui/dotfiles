#!/bin/bash
nmk_dir=$(dirname "$(dirname "$(readlink -f "$0")")")

for python in "$NMK_PYTHON" python3 python; do
    # Call binary to determine python existence
    # Check binary existence doesn't work because pyenv provide python shims.
    "$python" --version > /dev/null 2>&1 && exec "$python" "$nmk_dir/bin/nmk.py" "$@"
done

>&2 echo "Error: Python not found"
exit 1
