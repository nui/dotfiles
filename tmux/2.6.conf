# tmux 2.6 configuration
# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> tmux option >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
set-option -g base-index 1
set-option -g default-shell "$NMK_TMUX_DEFAULT_SHELL"
set-option -g default-terminal "$NMK_TMUX_DEFAULT_TERMINAL"
set-option -g detach-on-destroy "$NMK_TMUX_DETACH_ON_DESTROY"
set-option -g display-time 1200
set-option -g history-file "$NMK_TMUX_HISTORY"
set-option -g history-limit 2500
set-option -g status-keys emacs
set-option -g status-left-length 20
set-option -g status-right-length 60
set-option -g status-right "#{?client_prefix,^B ,}'#[fg=colour51]#{=40:pane_title}#[default]' %H:%M %Z %a, %d"
set-window-option -g mode-keys vi
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< tmux option <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> prefix key >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
unbind-key C-b
bind-key -r C-b send-prefix
bind-key -r b select-pane -t :.+ \; display-panes
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< prefix key <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
bind-key C-c command-prompt
bind-key C-l switch-client -l
bind-key C-t display-message '#{pane_tty}'
# >>>>>>>>>>>>>>>>>>>>>>>>>>>> function key binding >>>>>>>>>>>>>>>>>>>>>>>>>>>>
bind-key -n F1 select-pane -t :.+ \; display-panes
bind-key -n F2 last-window
bind-key -n F3 previous-window
bind-key -n F4 next-window
bind-key -n F5 resize-pane -Z
bind-key -n F6 choose-tree -s
bind-key -n S-F2 switch-client -l
bind-key -n S-F3 switch-client -p
bind-key -n S-F4 switch-client -n
# <<<<<<<<<<<<<<<<<<<<<<<<<<<< function key binding <<<<<<<<<<<<<<<<<<<<<<<<<<<<
# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> F12 key table >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
bind-key F12 send-keys F12
bind-key -n F12 switch-client -T F12
bind-key -T F12 F1 send-keys F1
bind-key -T F12 F2 send-keys F2
bind-key -T F12 F3 send-keys F3
bind-key -T F12 F4 send-keys F4
bind-key -T F12 F5 send-keys F5
bind-key -T F12 F6 send-keys F6
bind-key -T F12 F7 send-keys F7
bind-key -T F12 F8 send-keys F8
bind-key -T F12 F9 send-keys F9
bind-key -T F12 F10 send-keys F10
bind-key -T F12 F11 send-keys F11
bind-key -T F12 F12 detach-client
bind-key -T F12 -r Space next-layout
bind-key -T F12 1 select-window -t 1
bind-key -T F12 2 select-window -t 2
bind-key -T F12 3 select-window -t 3
bind-key -T F12 4 select-window -t 4
bind-key -T F12 5 select-window -t 5
bind-key -T F12 6 select-window -t 6
bind-key -T F12 7 select-window -t 7
bind-key -T F12 8 select-window -t 8
bind-key -T F12 9 select-window -t 9
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< F12 key table <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>> pane_current_path >>>>>>>>>>>>>>>>>>>>>>>>>>>>>
unbind-key %
bind-key % split-window -h  -c '#{pane_current_path}'
unbind-key |
bind-key | split-window -h  -c '#{pane_current_path}'
unbind-key _
bind-key _ split-window -c '#{pane_current_path}'
unbind-key c
bind-key c new-window -c '#{pane_current_path}'
unbind-key '"'
bind-key '"' split-window -c '#{pane_current_path}'
bind-key C command-prompt "new-session -c '#{pane_current_path}' -s '%%'"
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<< pane_current_path <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> copy mode >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
bind-key C-u copy-mode -u
if-shell 'xclip -o > /dev/null 2>&1' 'bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -selection clipboard"'
bind-key -T root WheelUpPane if-shell -F "#{mouse_any_flag}" "send-keys -M" "if-shell -F '#{?pane_in_mode,1,}#{?alternate_on,1,}' 'send-keys -M' 'copy-mode -eu'"
bind-key -T root PageUp if-shell -F "#{?pane_in_mode,1,}#{?alternate_on,1,}" "send-keys PageUp" "copy-mode -eu"
unbind-key -T copy-mode-vi PageUp
bind-key -T copy-mode-vi PageUp send-keys -X halfpage-up
unbind-key -T copy-mode-vi PageDown
bind-key -T copy-mode-vi PageDown send-keys -X halfpage-down
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< copy mode <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
if-shell '[ x$NMK_TMUX_256_COLOR = x1 ]' 'source-file $NMK_DIR/tmux/256color.conf' 'source-file $NMK_DIR/tmux/8color.conf'
set-environment -gr NMK_TMUX_256_COLOR
set-environment -gr NMK_TMUX_DEFAULT_SHELL
set-environment -gr NMK_TMUX_DEFAULT_TERMINAL
set-environment -gr NMK_TMUX_DETACH_ON_DESTROY
set-environment -gr NMK_TMUX_HISTORY
